"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const base_1 = require("../base");
const OAuthClient_1 = require("./OAuthClient");
const User_1 = require("./User");
var OAuthClientStatus;
(function (OAuthClientStatus) {
    OAuthClientStatus["ACTIVE"] = "active";
    OAuthClientStatus["INACTIVE"] = "inactive";
})(OAuthClientStatus = exports.OAuthClientStatus || (exports.OAuthClientStatus = {}));
class OAuthAccessToken extends base_1.BaseModel {
    constructor(data) {
        super(data);
        this.accessToken = data.accessToken;
        this.tokenType = data.tokenType;
        this.userAgent = data.userAgent || {};
        this.expires = data.expires ? new Date(data.expires) : undefined;
        if (data.client) {
            this.client = typeof data.client === typeof 'a' ? data.client : new OAuthClient_1.default(data.client);
        }
        if (data.user) {
            this.user = typeof data.user === typeof 'a' ? data.user : new User_1.default(data.user);
        }
    }
}
exports.default = OAuthAccessToken;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT0F1dGhBY2Nlc3NUb2tlbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvT0F1dGhBY2Nlc3NUb2tlbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGtDQUFxRDtBQUNyRCwrQ0FBK0Q7QUFDL0QsaUNBQTBCO0FBRTFCLElBQVksaUJBR1g7QUFIRCxXQUFZLGlCQUFpQjtJQUMzQixzQ0FBaUIsQ0FBQTtJQUNqQiwwQ0FBcUIsQ0FBQTtBQUN2QixDQUFDLEVBSFcsaUJBQWlCLEdBQWpCLHlCQUFpQixLQUFqQix5QkFBaUIsUUFHNUI7QUFvQkQsc0JBQXNDLFNBQVEsZ0JBQVM7SUFRckQsWUFBWSxJQUE0QjtRQUN0QyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDWixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDcEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUVqRSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDZixJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sSUFBSSxDQUFDLE1BQU0sS0FBSyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxxQkFBVyxDQUFDLElBQUksQ0FBQyxNQUFhLENBQVEsQ0FBQztTQUM1RztRQUNELElBQUksSUFBSSxDQUFDLElBQUksRUFBRTtZQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxJQUFJLENBQUMsSUFBSSxLQUFLLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLGNBQUksQ0FBQyxJQUFJLENBQUMsSUFBWSxDQUFDLENBQUM7U0FDdkY7SUFDSCxDQUFDO0NBQ0Y7QUF0QkQsbUNBc0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZU1vZGVsLCBCYXNlTW9kZWxTY2hlbWEgfSBmcm9tICcuLi9iYXNlJztcbmltcG9ydCBPQXV0aENsaWVudCwgeyBPQXV0aENsaWVudFNjaGVtYSB9IGZyb20gJy4vT0F1dGhDbGllbnQnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJztcblxuZXhwb3J0IGVudW0gT0F1dGhDbGllbnRTdGF0dXMge1xuICBBQ1RJVkUgPSAnYWN0aXZlJyxcbiAgSU5BQ1RJVkUgPSAnaW5hY3RpdmUnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJBZ2VudEluZm9ybWF0aW9uIHtcbiAgaXA/OiBzdHJpbmc7XG4gIGJyb3dzZXI/OiBzdHJpbmc7XG4gIHZlcnNpb24/OiBzdHJpbmc7XG4gIG9zPzogc3RyaW5nO1xuICBwbGF0Zm9ybT86IHN0cmluZztcbiAgc291cmNlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9BdXRoQWNjZXNzVG9rZW5TY2hlbWEgZXh0ZW5kcyBCYXNlTW9kZWxTY2hlbWEge1xuICBhY2Nlc3NUb2tlbj86IHN0cmluZztcbiAgdG9rZW5UeXBlOiBzdHJpbmc7XG4gIGNsaWVudDogc3RyaW5nIHwgT0F1dGhDbGllbnRTY2hlbWE7XG4gIHVzZXI6IHN0cmluZyB8IFVzZXI7XG4gIGV4cGlyZXM/OiBEYXRlO1xuICB1c2VyQWdlbnQ/OiBVc2VyQWdlbnRJbmZvcm1hdGlvbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT0F1dGhBY2Nlc3NUb2tlbiBleHRlbmRzIEJhc2VNb2RlbCB7XG4gIGFjY2Vzc1Rva2VuPzogc3RyaW5nO1xuICB0b2tlblR5cGU6IHN0cmluZztcbiAgY2xpZW50OiBzdHJpbmcgfCBPQXV0aENsaWVudDtcbiAgdXNlcjogc3RyaW5nIHwgVXNlcjtcbiAgZXhwaXJlcz86IERhdGU7XG4gIHVzZXJBZ2VudDogVXNlckFnZW50SW5mb3JtYXRpb247XG5cbiAgY29uc3RydWN0b3IoZGF0YTogT0F1dGhBY2Nlc3NUb2tlblNjaGVtYSkge1xuICAgIHN1cGVyKGRhdGEpO1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBkYXRhLmFjY2Vzc1Rva2VuO1xuICAgIHRoaXMudG9rZW5UeXBlID0gZGF0YS50b2tlblR5cGU7XG4gICAgdGhpcy51c2VyQWdlbnQgPSBkYXRhLnVzZXJBZ2VudCB8fCB7fTtcbiAgICB0aGlzLmV4cGlyZXMgPSBkYXRhLmV4cGlyZXMgPyBuZXcgRGF0ZShkYXRhLmV4cGlyZXMpIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGRhdGEuY2xpZW50KSB7XG4gICAgICB0aGlzLmNsaWVudCA9IHR5cGVvZiBkYXRhLmNsaWVudCA9PT0gdHlwZW9mICdhJyA/IGRhdGEuY2xpZW50IDogbmV3IE9BdXRoQ2xpZW50KGRhdGEuY2xpZW50IGFzIGFueSkgYXMgYW55O1xuICAgIH1cbiAgICBpZiAoZGF0YS51c2VyKSB7XG4gICAgICB0aGlzLnVzZXIgPSB0eXBlb2YgZGF0YS51c2VyID09PSB0eXBlb2YgJ2EnID8gZGF0YS51c2VyIDogbmV3IFVzZXIoZGF0YS51c2VyIGFzIFVzZXIpO1xuICAgIH1cbiAgfVxufVxuIl19